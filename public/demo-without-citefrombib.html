<html>
  <head>

  <!-- Load jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script>
    // Define an object contain bibtex keys -> way to cite.
    const bib = {
      lui2020bayesian: "Arthur Lui, et. al (2020)",
      advi: "David M. Blei (2015)"
    }

    window.customElements.define('bib-citep', class extends HTMLElement {});
    window.customElements.define('bib-cite', class extends HTMLElement {});
  </script>
  </head>

  <body>
    <div>
      I am going to cite <bib-cite ref="lui2020bayesian"/></bib-cite> right now.
      Now I cite <bib-citep ref="advi"/></bib-citep>.
    </div>
    hello
  </body>

  <script>
    // This is to be run at the end.
    function replaceCiteTags() {
      var citeTags = $("bib-cite[ref]")
      for (tag of citeTags) {
        tag.innerText = bib[tag.getAttribute("ref")]
      }
    }
    replaceCiteTags()
  </script>
</html>
